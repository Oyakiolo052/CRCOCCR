0,1,2,3,4,5,6
"{'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79496803', 'pull_request_review_id': 645178, 'id': 79496803, 'node_id': 'MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc5NDk2ODAz', 'diff_hunk': '@@ -92,6 +94,20 @@ public Password(String dfault) {\n     public String toString() {\n       return new String(value, UTF_8);\n     }\n+\n+    /**\n+     * Prompts user for a password\n+     *\n+     * @return user entered Password object, null if no console exists\n+     */\n+    public static Password promptUser() throws IOException {\n+      if (System.console() == null) {\n+        return null;', 'path': 'core/src/main/java/org/apache/accumulo/core/cli/ClientOpts.java', 'commit_id': '52e5444e1657d859a0c76d89c823f100e03d57ff', 'original_commit_id': '8d65fb5219cff62ce328eef99693c0bdc4c5c977', 'user': {'login': 'joshelser', 'id': 67863, 'node_id': 'MDQ6VXNlcjY3ODYz', 'avatar_url': 'https://avatars.githubusercontent.com/u/67863?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/joshelser', 'html_url': 'https://github.com/joshelser', 'followers_url': 'https://api.github.com/users/joshelser/followers', 'following_url': 'https://api.github.com/users/joshelser/following{/other_user}', 'gists_url': 'https://api.github.com/users/joshelser/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/joshelser/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/joshelser/subscriptions', 'organizations_url': 'https://api.github.com/users/joshelser/orgs', 'repos_url': 'https://api.github.com/users/joshelser/repos', 'events_url': 'https://api.github.com/users/joshelser/events{/privacy}', 'received_events_url': 'https://api.github.com/users/joshelser/received_events', 'type': 'User', 'site_admin': False}, 'body': ""I'm thinking that throwing an exception here would be more clear. This method cannot properly function as the caller expected, so they should get a clear exception in this case (not just a null return value).\n"", 'created_at': '2016-09-19T21:47:22Z', 'updated_at': '2016-09-22T18:55:11Z', 'html_url': 'https://github.com/apache/accumulo/pull/154#discussion_r79496803', 'pull_request_url': 'https://api.github.com/repos/apache/accumulo/pulls/154', 'author_association': 'MEMBER', '_links': {'self': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79496803'}, 'html': {'href': 'https://github.com/apache/accumulo/pull/154#discussion_r79496803'}, 'pull_request': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/154'}}, 'reactions': {'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79496803/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'start_line': None, 'original_start_line': None, 'start_side': None, 'line': None, 'original_line': None, 'side': 'RIGHT', 'original_position': 21, 'position': None, 'subject_type': 'line'}","{'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79497362', 'pull_request_review_id': 645178, 'id': 79497362, 'node_id': 'MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc5NDk3MzYy', 'diff_hunk': '@@ -142,11 +158,22 @@ public AuthenticationToken getToken() {\n       }\n     }\n \n-    if (securePassword != null)\n-      return new PasswordToken(securePassword.value);\n-\n-    if (password != null)\n-      return new PasswordToken(password.value);\n+    // other token types should have resolved by this point, so return PasswordToken\n+    Password pass = null;\n+    if (securePassword != null) {\n+      pass = securePassword;\n+    } else if (password != null) {\n+      pass = password;\n+    } else {\n+      try {\n+        pass = Password.promptUser();\n+      } catch (IOException e) {\n+        throw new RuntimeException(e);\n+      }\n+    }\n+    if (pass != null) {', 'path': 'core/src/main/java/org/apache/accumulo/core/cli/ClientOpts.java', 'commit_id': '52e5444e1657d859a0c76d89c823f100e03d57ff', 'original_commit_id': '8d65fb5219cff62ce328eef99693c0bdc4c5c977', 'user': {'login': 'joshelser', 'id': 67863, 'node_id': 'MDQ6VXNlcjY3ODYz', 'avatar_url': 'https://avatars.githubusercontent.com/u/67863?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/joshelser', 'html_url': 'https://github.com/joshelser', 'followers_url': 'https://api.github.com/users/joshelser/followers', 'following_url': 'https://api.github.com/users/joshelser/following{/other_user}', 'gists_url': 'https://api.github.com/users/joshelser/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/joshelser/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/joshelser/subscriptions', 'organizations_url': 'https://api.github.com/users/joshelser/orgs', 'repos_url': 'https://api.github.com/users/joshelser/repos', 'events_url': 'https://api.github.com/users/joshelser/events{/privacy}', 'received_events_url': 'https://api.github.com/users/joshelser/received_events', 'type': 'User', 'site_admin': False}, 'body': 'This becomes simpler too. Either we throw an RTE from the attempt to get a password, or we create a `PasswordToken` with the results. This method always gets to return a non-null value (woo!).\n', 'created_at': '2016-09-19T21:50:12Z', 'updated_at': '2016-09-22T18:55:11Z', 'html_url': 'https://github.com/apache/accumulo/pull/154#discussion_r79497362', 'pull_request_url': 'https://api.github.com/repos/apache/accumulo/pulls/154', 'author_association': 'MEMBER', '_links': {'self': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79497362'}, 'html': {'href': 'https://github.com/apache/accumulo/pull/154#discussion_r79497362'}, 'pull_request': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/154'}}, 'reactions': {'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79497362/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'start_line': None, 'original_start_line': None, 'start_side': None, 'line': None, 'original_line': None, 'side': 'RIGHT', 'original_position': 52, 'position': None, 'subject_type': 'line'}","{'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79593816', 'pull_request_review_id': 731686, 'id': 79593816, 'node_id': 'MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc5NTkzODE2', 'diff_hunk': '@@ -142,11 +158,22 @@ public AuthenticationToken getToken() {\n       }\n     }\n \n-    if (securePassword != null)\n-      return new PasswordToken(securePassword.value);\n-\n-    if (password != null)\n-      return new PasswordToken(password.value);\n+    // other token types should have resolved by this point, so return PasswordToken\n+    Password pass = null;\n+    if (securePassword != null) {\n+      pass = securePassword;\n+    } else if (password != null) {\n+      pass = password;\n+    } else {\n+      try {\n+        pass = Password.promptUser();\n+      } catch (IOException e) {\n+        throw new RuntimeException(e);\n+      }\n+    }\n+    if (pass != null) {', 'path': 'core/src/main/java/org/apache/accumulo/core/cli/ClientOpts.java', 'commit_id': '52e5444e1657d859a0c76d89c823f100e03d57ff', 'original_commit_id': '8d65fb5219cff62ce328eef99693c0bdc4c5c977', 'user': {'login': 'milleruntime', 'id': 11872539, 'node_id': 'MDQ6VXNlcjExODcyNTM5', 'avatar_url': 'https://avatars.githubusercontent.com/u/11872539?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/milleruntime', 'html_url': 'https://github.com/milleruntime', 'followers_url': 'https://api.github.com/users/milleruntime/followers', 'following_url': 'https://api.github.com/users/milleruntime/following{/other_user}', 'gists_url': 'https://api.github.com/users/milleruntime/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/milleruntime/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/milleruntime/subscriptions', 'organizations_url': 'https://api.github.com/users/milleruntime/orgs', 'repos_url': 'https://api.github.com/users/milleruntime/repos', 'events_url': 'https://api.github.com/users/milleruntime/events{/privacy}', 'received_events_url': 'https://api.github.com/users/milleruntime/received_events', 'type': 'User', 'site_admin': False}, 'body': 'I had something like that before running tests. [TestClientOpts.test ](https://github.com/apache/accumulo/blob/master/core/src/test/java/org/apache/accumulo/core/cli/TestClientOpts.java#L69) expects for that method and ones that call it to return null.\n', 'created_at': '2016-09-20T12:01:12Z', 'updated_at': '2016-09-22T18:55:11Z', 'html_url': 'https://github.com/apache/accumulo/pull/154#discussion_r79593816', 'pull_request_url': 'https://api.github.com/repos/apache/accumulo/pulls/154', 'author_association': 'CONTRIBUTOR', '_links': {'self': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79593816'}, 'html': {'href': 'https://github.com/apache/accumulo/pull/154#discussion_r79593816'}, 'pull_request': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/154'}}, 'reactions': {'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79593816/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'start_line': None, 'original_start_line': None, 'start_side': None, 'line': None, 'original_line': None, 'side': 'RIGHT', 'in_reply_to_id': 79497362, 'original_position': 52, 'position': None, 'subject_type': 'line'}","{'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79623802', 'pull_request_review_id': 758807, 'id': 79623802, 'node_id': 'MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc5NjIzODAy', 'diff_hunk': '@@ -142,11 +158,22 @@ public AuthenticationToken getToken() {\n       }\n     }\n \n-    if (securePassword != null)\n-      return new PasswordToken(securePassword.value);\n-\n-    if (password != null)\n-      return new PasswordToken(password.value);\n+    // other token types should have resolved by this point, so return PasswordToken\n+    Password pass = null;\n+    if (securePassword != null) {\n+      pass = securePassword;\n+    } else if (password != null) {\n+      pass = password;\n+    } else {\n+      try {\n+        pass = Password.promptUser();\n+      } catch (IOException e) {\n+        throw new RuntimeException(e);\n+      }\n+    }\n+    if (pass != null) {', 'path': 'core/src/main/java/org/apache/accumulo/core/cli/ClientOpts.java', 'commit_id': '52e5444e1657d859a0c76d89c823f100e03d57ff', 'original_commit_id': '8d65fb5219cff62ce328eef99693c0bdc4c5c977', 'user': {'login': 'joshelser', 'id': 67863, 'node_id': 'MDQ6VXNlcjY3ODYz', 'avatar_url': 'https://avatars.githubusercontent.com/u/67863?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/joshelser', 'html_url': 'https://github.com/joshelser', 'followers_url': 'https://api.github.com/users/joshelser/followers', 'following_url': 'https://api.github.com/users/joshelser/following{/other_user}', 'gists_url': 'https://api.github.com/users/joshelser/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/joshelser/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/joshelser/subscriptions', 'organizations_url': 'https://api.github.com/users/joshelser/orgs', 'repos_url': 'https://api.github.com/users/joshelser/repos', 'events_url': 'https://api.github.com/users/joshelser/events{/privacy}', 'received_events_url': 'https://api.github.com/users/joshelser/received_events', 'type': 'User', 'site_admin': False}, 'body': ""That's a weird test. I feel like the `fail()` is the expected execution path (e.g. it's asserting that `getPrincipal()` throw an exception) and the `assertNull()` is an afterthought? I wouldn't be too worried about making sure the tests pass exactly as-is. This isn't public API, so the semantics are likely not well-defined.\n"", 'created_at': '2016-09-20T14:28:04Z', 'updated_at': '2016-09-22T18:55:11Z', 'html_url': 'https://github.com/apache/accumulo/pull/154#discussion_r79623802', 'pull_request_url': 'https://api.github.com/repos/apache/accumulo/pulls/154', 'author_association': 'MEMBER', '_links': {'self': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79623802'}, 'html': {'href': 'https://github.com/apache/accumulo/pull/154#discussion_r79623802'}, 'pull_request': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/154'}}, 'reactions': {'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79623802/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'start_line': None, 'original_start_line': None, 'start_side': None, 'line': None, 'original_line': None, 'side': 'RIGHT', 'in_reply_to_id': 79497362, 'original_position': 52, 'position': None, 'subject_type': 'line'}","{'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79626920', 'pull_request_review_id': 761733, 'id': 79626920, 'node_id': 'MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc5NjI2OTIw', 'diff_hunk': '@@ -142,11 +158,22 @@ public AuthenticationToken getToken() {\n       }\n     }\n \n-    if (securePassword != null)\n-      return new PasswordToken(securePassword.value);\n-\n-    if (password != null)\n-      return new PasswordToken(password.value);\n+    // other token types should have resolved by this point, so return PasswordToken\n+    Password pass = null;\n+    if (securePassword != null) {\n+      pass = securePassword;\n+    } else if (password != null) {\n+      pass = password;\n+    } else {\n+      try {\n+        pass = Password.promptUser();\n+      } catch (IOException e) {\n+        throw new RuntimeException(e);\n+      }\n+    }\n+    if (pass != null) {', 'path': 'core/src/main/java/org/apache/accumulo/core/cli/ClientOpts.java', 'commit_id': '52e5444e1657d859a0c76d89c823f100e03d57ff', 'original_commit_id': '8d65fb5219cff62ce328eef99693c0bdc4c5c977', 'user': {'login': 'milleruntime', 'id': 11872539, 'node_id': 'MDQ6VXNlcjExODcyNTM5', 'avatar_url': 'https://avatars.githubusercontent.com/u/11872539?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/milleruntime', 'html_url': 'https://github.com/milleruntime', 'followers_url': 'https://api.github.com/users/milleruntime/followers', 'following_url': 'https://api.github.com/users/milleruntime/following{/other_user}', 'gists_url': 'https://api.github.com/users/milleruntime/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/milleruntime/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/milleruntime/subscriptions', 'organizations_url': 'https://api.github.com/users/milleruntime/orgs', 'repos_url': 'https://api.github.com/users/milleruntime/repos', 'events_url': 'https://api.github.com/users/milleruntime/events{/privacy}', 'received_events_url': 'https://api.github.com/users/milleruntime/received_events', 'type': 'User', 'site_admin': False}, 'body': ""OK I like removing the null return. If I get rid of the try/catch, I'd have to make getToken() throw IOException which will touch a bunch of files. \n"", 'created_at': '2016-09-20T14:40:49Z', 'updated_at': '2016-09-22T18:55:11Z', 'html_url': 'https://github.com/apache/accumulo/pull/154#discussion_r79626920', 'pull_request_url': 'https://api.github.com/repos/apache/accumulo/pulls/154', 'author_association': 'CONTRIBUTOR', '_links': {'self': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79626920'}, 'html': {'href': 'https://github.com/apache/accumulo/pull/154#discussion_r79626920'}, 'pull_request': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/154'}}, 'reactions': {'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79626920/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'start_line': None, 'original_start_line': None, 'start_side': None, 'line': None, 'original_line': None, 'side': 'RIGHT', 'in_reply_to_id': 79497362, 'original_position': 52, 'position': None, 'subject_type': 'line'}","{'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79627769', 'pull_request_review_id': 762528, 'id': 79627769, 'node_id': 'MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc5NjI3NzY5', 'diff_hunk': '@@ -142,11 +158,22 @@ public AuthenticationToken getToken() {\n       }\n     }\n \n-    if (securePassword != null)\n-      return new PasswordToken(securePassword.value);\n-\n-    if (password != null)\n-      return new PasswordToken(password.value);\n+    // other token types should have resolved by this point, so return PasswordToken\n+    Password pass = null;\n+    if (securePassword != null) {\n+      pass = securePassword;\n+    } else if (password != null) {\n+      pass = password;\n+    } else {\n+      try {\n+        pass = Password.promptUser();\n+      } catch (IOException e) {\n+        throw new RuntimeException(e);\n+      }\n+    }\n+    if (pass != null) {', 'path': 'core/src/main/java/org/apache/accumulo/core/cli/ClientOpts.java', 'commit_id': '52e5444e1657d859a0c76d89c823f100e03d57ff', 'original_commit_id': '8d65fb5219cff62ce328eef99693c0bdc4c5c977', 'user': {'login': 'milleruntime', 'id': 11872539, 'node_id': 'MDQ6VXNlcjExODcyNTM5', 'avatar_url': 'https://avatars.githubusercontent.com/u/11872539?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/milleruntime', 'html_url': 'https://github.com/milleruntime', 'followers_url': 'https://api.github.com/users/milleruntime/followers', 'following_url': 'https://api.github.com/users/milleruntime/following{/other_user}', 'gists_url': 'https://api.github.com/users/milleruntime/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/milleruntime/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/milleruntime/subscriptions', 'organizations_url': 'https://api.github.com/users/milleruntime/orgs', 'repos_url': 'https://api.github.com/users/milleruntime/repos', 'events_url': 'https://api.github.com/users/milleruntime/events{/privacy}', 'received_events_url': 'https://api.github.com/users/milleruntime/received_events', 'type': 'User', 'site_admin': False}, 'body': 'I will keep the try catch but remove the check for null\n', 'created_at': '2016-09-20T14:44:13Z', 'updated_at': '2016-09-22T18:55:11Z', 'html_url': 'https://github.com/apache/accumulo/pull/154#discussion_r79627769', 'pull_request_url': 'https://api.github.com/repos/apache/accumulo/pulls/154', 'author_association': 'CONTRIBUTOR', '_links': {'self': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79627769'}, 'html': {'href': 'https://github.com/apache/accumulo/pull/154#discussion_r79627769'}, 'pull_request': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/154'}}, 'reactions': {'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79627769/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'start_line': None, 'original_start_line': None, 'start_side': None, 'line': None, 'original_line': None, 'side': 'RIGHT', 'in_reply_to_id': 79497362, 'original_position': 52, 'position': None, 'subject_type': 'line'}","{'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79642827', 'pull_request_review_id': 776433, 'id': 79642827, 'node_id': 'MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc5NjQyODI3', 'diff_hunk': '@@ -92,6 +94,20 @@ public Password(String dfault) {\n     public String toString() {\n       return new String(value, UTF_8);\n     }\n+\n+    /**\n+     * Prompts user for a password\n+     *\n+     * @return user entered Password object, null if no console exists\n+     */\n+    public static Password promptUser() throws IOException {\n+      if (System.console() == null) {\n+        return null;', 'path': 'core/src/main/java/org/apache/accumulo/core/cli/ClientOpts.java', 'commit_id': '52e5444e1657d859a0c76d89c823f100e03d57ff', 'original_commit_id': '8d65fb5219cff62ce328eef99693c0bdc4c5c977', 'user': {'login': 'milleruntime', 'id': 11872539, 'node_id': 'MDQ6VXNlcjExODcyNTM5', 'avatar_url': 'https://avatars.githubusercontent.com/u/11872539?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/milleruntime', 'html_url': 'https://github.com/milleruntime', 'followers_url': 'https://api.github.com/users/milleruntime/followers', 'following_url': 'https://api.github.com/users/milleruntime/following{/other_user}', 'gists_url': 'https://api.github.com/users/milleruntime/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/milleruntime/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/milleruntime/subscriptions', 'organizations_url': 'https://api.github.com/users/milleruntime/orgs', 'repos_url': 'https://api.github.com/users/milleruntime/repos', 'events_url': 'https://api.github.com/users/milleruntime/events{/privacy}', 'received_events_url': 'https://api.github.com/users/milleruntime/received_events', 'type': 'User', 'site_admin': False}, 'body': 'Fixed in 895591c\n', 'created_at': '2016-09-20T15:42:45Z', 'updated_at': '2016-09-22T18:55:11Z', 'html_url': 'https://github.com/apache/accumulo/pull/154#discussion_r79642827', 'pull_request_url': 'https://api.github.com/repos/apache/accumulo/pulls/154', 'author_association': 'CONTRIBUTOR', '_links': {'self': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79642827'}, 'html': {'href': 'https://github.com/apache/accumulo/pull/154#discussion_r79642827'}, 'pull_request': {'href': 'https://api.github.com/repos/apache/accumulo/pulls/154'}}, 'reactions': {'url': 'https://api.github.com/repos/apache/accumulo/pulls/comments/79642827/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'start_line': None, 'original_start_line': None, 'start_side': None, 'line': None, 'original_line': None, 'side': 'RIGHT', 'in_reply_to_id': 79496803, 'original_position': 21, 'position': None, 'subject_type': 'line'}"
